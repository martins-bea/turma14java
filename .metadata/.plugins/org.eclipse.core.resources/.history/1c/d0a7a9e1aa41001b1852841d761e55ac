package loja;

import java.util.Scanner;
import java.util.ArrayList;
import java.util.List;

public class CadLoja {

	public static void main(String[] args)

	{
		Scanner leia = new Scanner(System.in);
		List<Produtos> ListaProdutos = new ArrayList();

		// Variaveis

	
		int quantidadeVenda = 0;	
		String produtoEscolhido; 
		int anoAtual=2020;
		double valorCompra=0;
		char continuaCompra;
		
		
		//ARRAYLIST AQUI ListaProdutos.add(new Produto("Ar-01", "Capim-Limão", 10.00, 10))
		
		ListaProdutos.add(new Produtos("Ar01", "Aroma Capim-Limão", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar02", "Aroma Laranja    ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar03", "Aroma Lavanda    ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar04", "Aroma Doce       ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar05", "Aroma Cravo&Canela", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar06", "Aroma Floral      ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar07", "Aroma Camomila    ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar08", "Aroma Algodão     ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar09", "Aroma Eucalipto   ", 10.00, 10));
		ListaProdutos.add(new Produtos("Ar10", "Aroma Soft        ", 10.00, 10));
		
		
		
		
		
		inserirLinha(80, "■");
		System.out.println("\n                          ꕥ CHEIRIN DE CAPIM ꕥ \n");
		inserirLinha(80, "■");
		System.out.println();

		System.out.println("                        [1] ▶ COMPRAR PRODUTOS                ");
		System.out.println("                        [2] ▶ GERENCIAR ESTOQUE                ");
		System.out.println("                        [3] ▶ SAIR                             ");

		System.out.print(" \n");
		System.out.print("\n                          DIGITE A OPÇÃO:\n\n");

		inserirLinha(80, "■");
		System.out.print(" \n");

		char opcaoMenu = leia.next().charAt(0); //
		inserirLinha(80, "■");
		switch (opcaoMenu) {

		case '1':
			/*leia.nextLine();
			System.out.print("Realize seu cadastro!\n");
			System.out.print("\nNome: ");
			String nomeCliente = leia.nextLine();
			System.out.print("\nGênero: M-masculino, F-feminino ou O-outro:");
			char generoCliente = leia.next().toUpperCase().charAt(0);
			System.out.printf("\nAno de nascimento:");
			int dataNasc = leia.nextInt();
			System.out.println("\nCPF:");
			String CPF = leia.next();
			inserirLinha(80, "■");
			Cliente Fulano = new Cliente(nomeCliente, generoCliente, dataNasc,CPF); // construtor : (String nome, char genero, int dataNasc, String cpf)
			// set altera : Fulano.setNome("Bea");
			
			
			System.out.println(boasVindas(Fulano.getGenero(), nomeCliente));
			System.out.println("\nSua idade é:"+Fulano.retornaIdade(anoAtual));
			System.out.println("\n                         CONFIRA NOSSOS PRODUTOS:");
			
			*/inserirLinha(80, "■");
			
			do {
				
			System.out.println("CÓDIGO \t      PRODUTO \t       ESTOQUE     R$"  );
			
			for(Produtos ProdutosLoja:ListaProdutos) {
				System.out.printf("%s \t %s \t %d \t %.2f \n",ProdutosLoja.getcodigoProduto(), ProdutosLoja.getnomeProduto(), ProdutosLoja.getestoqueProduto(), ProdutosLoja.getprecoUnidade(),"\n");
			}
			inserirLinha(80, "■");
			System.out.printf("\nInsira o código do produto para adicioná-lo ao carrinho:");
			produtoEscolhido = leia.next().toUpperCase();
			System.out.printf("\nInsira a quantidade desejada:");
			quantidadeVenda= leia.nextInt();
			
			for (Produtos ProdutosLoja:ListaProdutos) {
				if (produtoEscolhido.equals(ProdutosLoja.getcodigoProduto())) {
				
					System.out.println("\nVocê selecionou: "+ quantidadeVenda+ " unidades de: " +ProdutosLoja.getnomeProduto());
				
				if	(quantidadeVenda <= ProdutosLoja.getestoqueProduto()) {
					
					ProdutosLoja.subtraiEstoque(quantidadeVenda);
					valorCompra += quantidadeVenda*ProdutosLoja.getprecoUnidade();
					
					System.out.println("\nO valor total é R$: "+ valorCompra);
					inserirLinha(80, "■");
												
					//System.out.println("\nVocê acaba de adquirir um produto ꕥ CHERIN DE CAPIM ꕥ");
					
				
				}
				}
				
				
			}
			
			 
			
		
			/*do {  System.out.print("\n\nDeseja mais algo? 'S'para Sim 'N' para Não? ");
				continuaCompra = leia.next().toUpperCase().charAt(0);
			}*/	
			
			System.out.print("\n\nDeseja mais algo? 'S'para Sim 'N' para Não? ");
			 continuaCompra = leia.next().toUpperCase().charAt(0);
			}
			
			while (continuaCompra != 'S' && continuaCompra != 'N');
				System.out.print("\nOpção inválida. Deseja adquirir mais algum produto? 'S' para Sim 'N' para Não. ");
				continuaCompra = leia.next().toUpperCase().charAt(0);
			
			
			//}
			//while (continuaCompra == 'S');

			
			
				
			//break;
		

		case '2':
			System.out.println("WIP");
			break;

		case '3':
			System.out.println("Volte sempre!!!");
			break;}

		}
		/*System.out.print("\n\nDeseja mais algo? 'S'para Sim 'N' para Não)? ");
		continuaCompra = leia.next().toUpperCase().charAt(0);
		while (continuaCompra != 'S' && continuaCompra != 'N') {
			System.out.print("\nOpção inválida. Deseja adquirir mais algum produto? 'S' para Sim 'N' para Não. ");
			continuaCompra = leia.next().toUpperCase().charAt(0);
		}

		while (continuaCompra == 'S');

		// se não, emite nota fiscal

		System.out.println("\n\t\t\t   NOTA FISCAL");
		System.out.println("CÓDIGO\t  PRODUTO\t  QUANTIDADE\t  VALOR UN.(R$)\t  VALORITEM(R$)");
		inserirLinha(80, "■");
		for (int x = 0; x < estoque; x++) {
			if (carrinho[x] > 0) {
				System.out.printf("\n%s\t  %s\t   %d\t\t %.2f\t\t %.2f\n", codigos[x], produtos[x], carrinho[x],
						precoUnitarios[x], precoUnitarios[x] * carrinho[x]);
			}
		}
	}*/

	public static String boasVindas(char generoCliente, String nomeCliente) {

		String saudacao;

		if (generoCliente == 'M') {
			saudacao = "Seja bem-vindo " + nomeCliente + "!";
		} else if (generoCliente == 'F') {
			saudacao = "Seja bem-vinda " + nomeCliente + "!";
		} else if (generoCliente == 'O') {
			saudacao = "Seja bem-vinde " + nomeCliente + "!";
		} else {
			saudacao = "Erro";
		}
		return saudacao;
	}

	public static void inserirLinha(int tamanho, String simbolo) {

		for (int i = 0; i < tamanho; i++) {
			System.out.print(simbolo);
		}
		System.out.println();
	}

}